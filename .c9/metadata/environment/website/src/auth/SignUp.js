{"filter":false,"title":"SignUp.js","tooltip":"/website/src/auth/SignUp.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":38,"column":3},"end":{"row":42,"column":0},"action":"remove","lines":[" e.preventDefault();","    console.log('Form Submitted');","    this.setState({ stage: 1 });","  }",""],"id":2},{"start":{"row":38,"column":3},"end":{"row":67,"column":1},"action":"insert","lines":["e.preventDefault();","  try {","      const params = {","          username: this.state.email.replace(/[@.]/g, '|'),","          password: this.state.password,","          attributes: {","              email: this.state.email,","              phone_number: this.state.phone","          },","          validationData: []","      };","      const data = await Auth.signUp(params);","      console.log(data);","      this.setState({ stage: 1 });","  } catch (err) {","    if (err === \"No userPool\") {","      // User pool not defined in Amplify config file","      console.error(\"User Pool not defined\");","      alert(\"User Pool not defined. Amplify config must be updated with user pool config\");","    } else if (err.message === \"User already exists\") {","        // Setting state to allow user to proceed to enter verification code","        this.setState({ stage: 1 });","    } else {","        if (err.message.indexOf(\"phone number format\") >= 0) {err.message = \"Invalid phone number format. Must include country code. Example: +14252345678\"}","        alert(err.message);","        console.error(\"Exception from Auth.signUp: \", err);","        this.setState({ stage: 0, email: '', password: '', confirm: '' });","    }","  }","}"]}],[{"start":{"row":69,"column":2},"end":{"row":78,"column":3},"action":"remove","lines":["  e.preventDefault();","    console.log('Verification Submitted');","    this.setState({ ","      stage: 0, code: '',","      email: '', phone: '', ","      password: '', confirm: ''","    });","    // Go back to the home page","    this.props.history.replace('/');","  }"],"id":3},{"start":{"row":69,"column":2},"end":{"row":82,"column":1},"action":"insert","lines":[" e.preventDefault();","    try {","      const data = await Auth.confirmSignUp(","          this.state.email.replace(/[@.]/g, '|'),","          this.state.code","      );","      console.log(data);","      // Go to the sign in page","      this.props.history.replace('/signin');","    } catch (err) {","      alert(err.message);","      console.error(\"Exception from Auth.confirmSignUp: \", err);","    }","}"]}]]},"ace":{"folds":[],"scrolltop":801,"scrollleft":0,"selection":{"start":{"row":82,"column":1},"end":{"row":82,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1647870704838,"hash":"48308f28c3e0a6a68ac6efb36abe0c4f23bbe3db"}