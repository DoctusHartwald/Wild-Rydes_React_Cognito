{"filter":false,"title":"SignIn.js","tooltip":"/website/src/auth/SignIn.js","undoManager":{"mark":1,"position":1,"stack":[[{"start":{"row":37,"column":2},"end":{"row":40,"column":3},"action":"remove","lines":["  e.preventDefault();","    console.log('Form Submitted');","    this.setState({ stage: 1 });","  }"],"id":2},{"start":{"row":37,"column":2},"end":{"row":60,"column":1},"action":"insert","lines":["e.preventDefault();","    try {","        const userObject = await Auth.signIn(","          this.state.email.replace(/[@.]/g, '|'),","          this.state.password","        );","        console.log('userObject', userObject);","        if (userObject.challengeName) {","          // Auth challenges are pending prior to token issuance","          this.setState({ userObject, stage: 1 });","        } else {","          // No remaining auth challenges need to be satisfied","          const session = await Auth.currentSession();","          // console.log('Cognito User Access Token:', session.getAccessToken().getJwtToken());","          console.log('Cognito User Identity Token:', session.getIdToken().getJwtToken());","          // console.log('Cognito User Refresh Token', session.getRefreshToken().getToken());","          this.setState({ stage: 0, email: '', password: '', code: '' });","          this.props.history.replace('/app');","        }","    } catch (err) {","        alert(err.message);","        console.error('Auth.signIn(): ', err);","    }","}"]}],[{"start":{"row":63,"column":2},"end":{"row":68,"column":3},"action":"remove","lines":["  e.preventDefault();","    console.log('Verification Submitted');","    this.setState({ stage: 0, email: '', password: '', code: '' });","    // Go back home","    this.props.history.replace('/');","  }"],"id":3},{"start":{"row":63,"column":2},"end":{"row":80,"column":1},"action":"insert","lines":["e.preventDefault();","    try {","      const data = await Auth.confirmSignIn(","        this.state.userObject,","        this.state.code","      );","      console.log('Cognito User Data:', data);","      const session = await Auth.currentSession();","      // console.log('Cognito User Access Token:', session.getAccessToken().getJwtToken());","      console.log('Cognito User Identity Token:', session.getIdToken().getJwtToken());","      // console.log('Cognito User Refresh Token', session.getRefreshToken().getToken());","      this.setState({ stage: 0, email: '', password: '', code: '' });","      this.props.history.replace('/app');","    } catch (err) {","      alert(err.message);","      console.error('Auth.confirmSignIn(): ', err);","    }","}"]}]]},"ace":{"folds":[],"scrolltop":667,"scrollleft":0,"selection":{"start":{"row":59,"column":5},"end":{"row":59,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1647870730128,"hash":"062009559b37a8c8332ffe25416913f02416f46d"}